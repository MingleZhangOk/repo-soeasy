!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("tslib")):"function"==typeof define&&define.amd?define("ngx-cookie",["exports","@angular/core","@angular/common","tslib"],t):t(e["ngx-cookie"]={},e.ng.core,e.ng.common,e.tslib)}(this,function(e,o,n,t){"use strict";function s(e){return e===undefined||null===e}function r(e){return e!==undefined&&null!==e}function p(e){return"string"==typeof e}function a(e,t){return t?{path:r(t.path)?t.path:e.path,domain:r(t.domain)?t.domain:e.domain,expires:r(t.expires)?t.expires:e.expires,secure:r(t.secure)?t.secure:e.secure,storeUnencoded:r(t.storeUnencoded)?t.storeUnencoded:e.storeUnencoded}:e}function d(e){try{return decodeURIComponent(e)}catch(t){return e}}function i(e){try{return JSON.parse(e)}catch(t){return e}}var c=new o.InjectionToken("COOKIE_OPTIONS"),u=function(){function e(e,t){void 0===e&&(e={}),this._injector=t,this.defaultOptions={path:this._injector.get(n.APP_BASE_HREF,"/"),domain:null,expires:null,secure:!1,httpOnly:!1},this._options=a(this.defaultOptions,e)}return Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:o.Inject,args:[c]}]},{type:o.Injector}]},e}(),f=function(){function e(e){this._optionsProvider=e,this.options=this._optionsProvider.options}return Object.defineProperty(e.prototype,"cookieString",{get:function(){return document.cookie||""},set:function(e){document.cookie=e},enumerable:!0,configurable:!0}),e.prototype.get=function(e){return this._cookieReader()[e]},e.prototype.getObject=function(e){var t=this.get(e);return t?i(t):t},e.prototype.getAll=function(){return this._cookieReader()},e.prototype.put=function(e,t,o){this._cookieWriter()(e,t,o)},e.prototype.putObject=function(e,t,o){this.put(e,JSON.stringify(t),o)},e.prototype.remove=function(e,t){this._cookieWriter()(e,undefined,t)},e.prototype.removeAll=function(t){var o=this,e=this.getAll();Object.keys(e).forEach(function(e){o.remove(e,t)})},e.prototype._cookieReader=function(){var e,t,o,n,r,i={},c="",u=this.cookieString;if(u!==c)for(e=(c=u).split("; "),i={},o=0;o<e.length;o++)0<(n=(t=e[o]).indexOf("="))&&s(i[r=d(t.substring(0,n))])&&(i[r]=d(t.substring(n+1)));return i},e.prototype._cookieWriter=function(){var n=this;return function(e,t,o){n.cookieString=n._buildCookieString(e,t,o)}},e.prototype._buildCookieString=function(e,t,o){var n=a(this.options,o),r=n.expires;s(t)&&(r="Thu, 01 Jan 1970 00:00:00 GMT",t=""),p(r)&&(r=new Date(r));var i=n.storeUnencoded?t:encodeURIComponent(t),c=encodeURIComponent(e)+"="+i;c+=n.path?";path="+n.path:"",c+=n.domain?";domain="+n.domain:"",c+=r?";expires="+r.toUTCString():"",c+=n.secure?";secure":"";var u=(c+=n.httpOnly?"; HttpOnly":"").length+1;return 4096<u&&console.log("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+u+" > 4096 bytes)!"),c},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[{type:u}]},e}(),l=function(r){function e(e,t,o){var n=r.call(this,o)||this;return n.request=e,n.response=t,n}return t.__extends(e,r),Object.defineProperty(e.prototype,"cookieString",{get:function(){return this.request.headers.cookie||""},set:function(e){this.request.headers.cookie=e,this.response.headers.cookie=e},enumerable:!0,configurable:!0}),e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:o.Inject,args:["REQUEST"]}]},{type:undefined,decorators:[{type:o.Inject,args:["RESPONSE"]}]},{type:u}]},e}(f);function h(e){return new f(e)}var y=function(){function t(){}return t.forRoot=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[{provide:c,useValue:e},{provide:f,useFactory:h,deps:[u]}]}},t.forChild=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[{provide:c,useValue:e},{provide:f,useFactory:h,deps:[u]}]}},t.decorators=[{type:o.NgModule,args:[{providers:[u]}]}],t}();e.CookieService=f,e.CookieBackendService=l,e.COOKIE_OPTIONS=c,e.CookieOptionsProvider=u,e.cookieServiceFactory=h,e.isBlank=s,e.isPresent=r,e.isString=p,e.mergeOptions=a,e.safeDecodeURIComponent=d,e.safeJsonParse=i,e.CookieModule=y,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-cookie.umd.min.js.map