/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/*
 Copyright 2013-2019 the original author or authors from the JHipster project.

 This file is part of the JHipster project, see https://www.jhipster.tech/
 for more information.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 */
import { Component, Input } from '@angular/core';
import { NgbModal } from '@ng-bootstrap/ng-bootstrap';
import { JhiThreadModalComponent } from './jhi-metrics-modal-threads.component';
export class JhiJvmThreadsComponent {
    /**
     * @param {?} modalService
     */
    constructor(modalService) {
        this.modalService = modalService;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.threadStats = {
            threadDumpRunnable: 0,
            threadDumpWaiting: 0,
            threadDumpTimedWaiting: 0,
            threadDumpBlocked: 0,
            threadDumpAll: 0
        };
        this.threadData.forEach(value => {
            if (value.threadState === 'RUNNABLE') {
                this.threadStats.threadDumpRunnable += 1;
            }
            else if (value.threadState === 'WAITING') {
                this.threadStats.threadDumpWaiting += 1;
            }
            else if (value.threadState === 'TIMED_WAITING') {
                this.threadStats.threadDumpTimedWaiting += 1;
            }
            else if (value.threadState === 'BLOCKED') {
                this.threadStats.threadDumpBlocked += 1;
            }
        });
        this.threadStats.threadDumpAll =
            this.threadStats.threadDumpRunnable +
                this.threadStats.threadDumpWaiting +
                this.threadStats.threadDumpTimedWaiting +
                this.threadStats.threadDumpBlocked;
    }
    /**
     * @return {?}
     */
    open() {
        /** @type {?} */
        const modalRef = this.modalService.open(JhiThreadModalComponent);
        modalRef.componentInstance.threadDump = this.threadData;
    }
}
JhiJvmThreadsComponent.decorators = [
    { type: Component, args: [{
                selector: 'jhi-jvm-threads',
                template: `
        <h4 jhiTranslate="metrics.jvm.threads.title">Threads</h4>
        <span><span jhiTranslate="metrics.jvm.threads.runnable">Runnable</span> {{ threadStats.threadDumpRunnable }}</span>
        <ngb-progressbar
            [value]="threadStats.threadDumpRunnable"
            [max]="threadStats.threadDumpAll"
            [striped]="true"
            [animated]="false"
            type="success"
        >
            <span>{{ (threadStats.threadDumpRunnable * 100) / threadStats.threadDumpAll | number: '1.0-0' }}%</span>
        </ngb-progressbar>
        <span><span jhiTranslate="metrics.jvm.threads.timedwaiting">Timed Waiting</span> ({{ threadStats.threadDumpTimedWaiting }})</span>
        <ngb-progressbar
            [value]="threadStats.threadDumpTimedWaiting"
            [max]="threadStats.threadDumpAll"
            [striped]="true"
            [animated]="false"
            type="warning"
        >
            <span>{{ (threadStats.threadDumpTimedWaiting * 100) / threadStats.threadDumpAll | number: '1.0-0' }}%</span>
        </ngb-progressbar>
        <span><span jhiTranslate="metrics.jvm.threads.waiting">Waiting</span> ({{ threadStats.threadDumpWaiting }})</span>
        <ngb-progressbar
            [value]="threadStats.threadDumpWaiting"
            [max]="threadStats.threadDumpAll"
            [striped]="true"
            [animated]="false"
            type="warning"
        >
            <span>{{ (threadStats.threadDumpWaiting * 100) / threadStats.threadDumpAll | number: '1.0-0' }}%</span>
        </ngb-progressbar>
        <span><span jhiTranslate="metrics.jvm.threads.blocked">Blocked</span> ({{ threadStats.threadDumpBlocked }})</span>
        <ngb-progressbar
            [value]="threadStats.threadDumpBlocked"
            [max]="threadStats.threadDumpAll"
            [striped]="true"
            [animated]="false"
            type="success"
        >
            <span>{{ (threadStats.threadDumpBlocked * 100) / threadStats.threadDumpAll | number: '1.0-0' }}%</span>
        </ngb-progressbar>
        <div>Total: {{ threadStats.threadDumpAll }}</div>
        <button class="hand btn btn-primary btn-sm" (click)="open()" data-toggle="modal" data-target="#threadDump">
            <span>Expand</span>
        </button>
    `
            }] }
];
/** @nocollapse */
JhiJvmThreadsComponent.ctorParameters = () => [
    { type: NgbModal }
];
JhiJvmThreadsComponent.propDecorators = {
    threadData: [{ type: Input }]
};
if (false) {
    /** @type {?} */
    JhiJvmThreadsComponent.prototype.threadStats;
    /**
     * object containing thread related metrics
     * @type {?}
     */
    JhiJvmThreadsComponent.prototype.threadData;
    /**
     * @type {?}
     * @private
     */
    JhiJvmThreadsComponent.prototype.modalService;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamhpLWp2bS10aHJlYWRzLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nLWpoaXBzdGVyLyIsInNvdXJjZXMiOlsiY29tcG9uZW50L21ldHJpY3MvamhpLWp2bS10aHJlYWRzLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0JBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFVLE1BQU0sZUFBZSxDQUFDO0FBRXpELE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUV0RCxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSx1Q0FBdUMsQ0FBQztBQW9EaEYsTUFBTSxPQUFPLHNCQUFzQjs7OztJQWMvQixZQUFvQixZQUFzQjtRQUF0QixpQkFBWSxHQUFaLFlBQVksQ0FBVTtJQUFHLENBQUM7Ozs7SUFFOUMsUUFBUTtRQUNKLElBQUksQ0FBQyxXQUFXLEdBQUc7WUFDZixrQkFBa0IsRUFBRSxDQUFDO1lBQ3JCLGlCQUFpQixFQUFFLENBQUM7WUFDcEIsc0JBQXNCLEVBQUUsQ0FBQztZQUN6QixpQkFBaUIsRUFBRSxDQUFDO1lBQ3BCLGFBQWEsRUFBRSxDQUFDO1NBQ25CLENBQUM7UUFFRixJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUM1QixJQUFJLEtBQUssQ0FBQyxXQUFXLEtBQUssVUFBVSxFQUFFO2dCQUNsQyxJQUFJLENBQUMsV0FBVyxDQUFDLGtCQUFrQixJQUFJLENBQUMsQ0FBQzthQUM1QztpQkFBTSxJQUFJLEtBQUssQ0FBQyxXQUFXLEtBQUssU0FBUyxFQUFFO2dCQUN4QyxJQUFJLENBQUMsV0FBVyxDQUFDLGlCQUFpQixJQUFJLENBQUMsQ0FBQzthQUMzQztpQkFBTSxJQUFJLEtBQUssQ0FBQyxXQUFXLEtBQUssZUFBZSxFQUFFO2dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLHNCQUFzQixJQUFJLENBQUMsQ0FBQzthQUNoRDtpQkFBTSxJQUFJLEtBQUssQ0FBQyxXQUFXLEtBQUssU0FBUyxFQUFFO2dCQUN4QyxJQUFJLENBQUMsV0FBVyxDQUFDLGlCQUFpQixJQUFJLENBQUMsQ0FBQzthQUMzQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhO1lBQzFCLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCO2dCQUNuQyxJQUFJLENBQUMsV0FBVyxDQUFDLGlCQUFpQjtnQkFDbEMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxzQkFBc0I7Z0JBQ3ZDLElBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLENBQUM7SUFDM0MsQ0FBQzs7OztJQUVELElBQUk7O2NBQ00sUUFBUSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLHVCQUF1QixDQUFDO1FBQ2hFLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUM1RCxDQUFDOzs7WUFqR0osU0FBUyxTQUFDO2dCQUNQLFFBQVEsRUFBRSxpQkFBaUI7Z0JBQzNCLFFBQVEsRUFBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztLQThDVDthQUNKOzs7O1lBckRRLFFBQVE7Ozt5QkFrRVosS0FBSzs7OztJQVhOLDZDQU1FOzs7OztJQUtGLDRDQUF5Qjs7Ozs7SUFFYiw4Q0FBOEIiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuIENvcHlyaWdodCAyMDEzLTIwMTkgdGhlIG9yaWdpbmFsIGF1dGhvciBvciBhdXRob3JzIGZyb20gdGhlIEpIaXBzdGVyIHByb2plY3QuXG5cbiBUaGlzIGZpbGUgaXMgcGFydCBvZiB0aGUgSkhpcHN0ZXIgcHJvamVjdCwgc2VlIGh0dHBzOi8vd3d3LmpoaXBzdGVyLnRlY2gvXG4gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cbiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblxuIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG4gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBOZ2JNb2RhbCB9IGZyb20gJ0BuZy1ib290c3RyYXAvbmctYm9vdHN0cmFwJztcblxuaW1wb3J0IHsgSmhpVGhyZWFkTW9kYWxDb21wb25lbnQgfSBmcm9tICcuL2poaS1tZXRyaWNzLW1vZGFsLXRocmVhZHMuY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdqaGktanZtLXRocmVhZHMnLFxuICAgIHRlbXBsYXRlOiBgXG4gICAgICAgIDxoNCBqaGlUcmFuc2xhdGU9XCJtZXRyaWNzLmp2bS50aHJlYWRzLnRpdGxlXCI+VGhyZWFkczwvaDQ+XG4gICAgICAgIDxzcGFuPjxzcGFuIGpoaVRyYW5zbGF0ZT1cIm1ldHJpY3MuanZtLnRocmVhZHMucnVubmFibGVcIj5SdW5uYWJsZTwvc3Bhbj4ge3sgdGhyZWFkU3RhdHMudGhyZWFkRHVtcFJ1bm5hYmxlIH19PC9zcGFuPlxuICAgICAgICA8bmdiLXByb2dyZXNzYmFyXG4gICAgICAgICAgICBbdmFsdWVdPVwidGhyZWFkU3RhdHMudGhyZWFkRHVtcFJ1bm5hYmxlXCJcbiAgICAgICAgICAgIFttYXhdPVwidGhyZWFkU3RhdHMudGhyZWFkRHVtcEFsbFwiXG4gICAgICAgICAgICBbc3RyaXBlZF09XCJ0cnVlXCJcbiAgICAgICAgICAgIFthbmltYXRlZF09XCJmYWxzZVwiXG4gICAgICAgICAgICB0eXBlPVwic3VjY2Vzc1wiXG4gICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuPnt7ICh0aHJlYWRTdGF0cy50aHJlYWREdW1wUnVubmFibGUgKiAxMDApIC8gdGhyZWFkU3RhdHMudGhyZWFkRHVtcEFsbCB8IG51bWJlcjogJzEuMC0wJyB9fSU8L3NwYW4+XG4gICAgICAgIDwvbmdiLXByb2dyZXNzYmFyPlxuICAgICAgICA8c3Bhbj48c3BhbiBqaGlUcmFuc2xhdGU9XCJtZXRyaWNzLmp2bS50aHJlYWRzLnRpbWVkd2FpdGluZ1wiPlRpbWVkIFdhaXRpbmc8L3NwYW4+ICh7eyB0aHJlYWRTdGF0cy50aHJlYWREdW1wVGltZWRXYWl0aW5nIH19KTwvc3Bhbj5cbiAgICAgICAgPG5nYi1wcm9ncmVzc2JhclxuICAgICAgICAgICAgW3ZhbHVlXT1cInRocmVhZFN0YXRzLnRocmVhZER1bXBUaW1lZFdhaXRpbmdcIlxuICAgICAgICAgICAgW21heF09XCJ0aHJlYWRTdGF0cy50aHJlYWREdW1wQWxsXCJcbiAgICAgICAgICAgIFtzdHJpcGVkXT1cInRydWVcIlxuICAgICAgICAgICAgW2FuaW1hdGVkXT1cImZhbHNlXCJcbiAgICAgICAgICAgIHR5cGU9XCJ3YXJuaW5nXCJcbiAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4+e3sgKHRocmVhZFN0YXRzLnRocmVhZER1bXBUaW1lZFdhaXRpbmcgKiAxMDApIC8gdGhyZWFkU3RhdHMudGhyZWFkRHVtcEFsbCB8IG51bWJlcjogJzEuMC0wJyB9fSU8L3NwYW4+XG4gICAgICAgIDwvbmdiLXByb2dyZXNzYmFyPlxuICAgICAgICA8c3Bhbj48c3BhbiBqaGlUcmFuc2xhdGU9XCJtZXRyaWNzLmp2bS50aHJlYWRzLndhaXRpbmdcIj5XYWl0aW5nPC9zcGFuPiAoe3sgdGhyZWFkU3RhdHMudGhyZWFkRHVtcFdhaXRpbmcgfX0pPC9zcGFuPlxuICAgICAgICA8bmdiLXByb2dyZXNzYmFyXG4gICAgICAgICAgICBbdmFsdWVdPVwidGhyZWFkU3RhdHMudGhyZWFkRHVtcFdhaXRpbmdcIlxuICAgICAgICAgICAgW21heF09XCJ0aHJlYWRTdGF0cy50aHJlYWREdW1wQWxsXCJcbiAgICAgICAgICAgIFtzdHJpcGVkXT1cInRydWVcIlxuICAgICAgICAgICAgW2FuaW1hdGVkXT1cImZhbHNlXCJcbiAgICAgICAgICAgIHR5cGU9XCJ3YXJuaW5nXCJcbiAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4+e3sgKHRocmVhZFN0YXRzLnRocmVhZER1bXBXYWl0aW5nICogMTAwKSAvIHRocmVhZFN0YXRzLnRocmVhZER1bXBBbGwgfCBudW1iZXI6ICcxLjAtMCcgfX0lPC9zcGFuPlxuICAgICAgICA8L25nYi1wcm9ncmVzc2Jhcj5cbiAgICAgICAgPHNwYW4+PHNwYW4gamhpVHJhbnNsYXRlPVwibWV0cmljcy5qdm0udGhyZWFkcy5ibG9ja2VkXCI+QmxvY2tlZDwvc3Bhbj4gKHt7IHRocmVhZFN0YXRzLnRocmVhZER1bXBCbG9ja2VkIH19KTwvc3Bhbj5cbiAgICAgICAgPG5nYi1wcm9ncmVzc2JhclxuICAgICAgICAgICAgW3ZhbHVlXT1cInRocmVhZFN0YXRzLnRocmVhZER1bXBCbG9ja2VkXCJcbiAgICAgICAgICAgIFttYXhdPVwidGhyZWFkU3RhdHMudGhyZWFkRHVtcEFsbFwiXG4gICAgICAgICAgICBbc3RyaXBlZF09XCJ0cnVlXCJcbiAgICAgICAgICAgIFthbmltYXRlZF09XCJmYWxzZVwiXG4gICAgICAgICAgICB0eXBlPVwic3VjY2Vzc1wiXG4gICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuPnt7ICh0aHJlYWRTdGF0cy50aHJlYWREdW1wQmxvY2tlZCAqIDEwMCkgLyB0aHJlYWRTdGF0cy50aHJlYWREdW1wQWxsIHwgbnVtYmVyOiAnMS4wLTAnIH19JTwvc3Bhbj5cbiAgICAgICAgPC9uZ2ItcHJvZ3Jlc3NiYXI+XG4gICAgICAgIDxkaXY+VG90YWw6IHt7IHRocmVhZFN0YXRzLnRocmVhZER1bXBBbGwgfX08L2Rpdj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImhhbmQgYnRuIGJ0bi1wcmltYXJ5IGJ0bi1zbVwiIChjbGljayk9XCJvcGVuKClcIiBkYXRhLXRvZ2dsZT1cIm1vZGFsXCIgZGF0YS10YXJnZXQ9XCIjdGhyZWFkRHVtcFwiPlxuICAgICAgICAgICAgPHNwYW4+RXhwYW5kPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICBgXG59KVxuZXhwb3J0IGNsYXNzIEpoaUp2bVRocmVhZHNDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICAgIHRocmVhZFN0YXRzOiB7XG4gICAgICAgIHRocmVhZER1bXBBbGw6IG51bWJlcjtcbiAgICAgICAgdGhyZWFkRHVtcFJ1bm5hYmxlOiBudW1iZXI7XG4gICAgICAgIHRocmVhZER1bXBUaW1lZFdhaXRpbmc6IG51bWJlcjtcbiAgICAgICAgdGhyZWFkRHVtcFdhaXRpbmc6IG51bWJlcjtcbiAgICAgICAgdGhyZWFkRHVtcEJsb2NrZWQ6IG51bWJlcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogb2JqZWN0IGNvbnRhaW5pbmcgdGhyZWFkIHJlbGF0ZWQgbWV0cmljc1xuICAgICAqL1xuICAgIEBJbnB1dCgpIHRocmVhZERhdGE6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgbW9kYWxTZXJ2aWNlOiBOZ2JNb2RhbCkge31cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLnRocmVhZFN0YXRzID0ge1xuICAgICAgICAgICAgdGhyZWFkRHVtcFJ1bm5hYmxlOiAwLFxuICAgICAgICAgICAgdGhyZWFkRHVtcFdhaXRpbmc6IDAsXG4gICAgICAgICAgICB0aHJlYWREdW1wVGltZWRXYWl0aW5nOiAwLFxuICAgICAgICAgICAgdGhyZWFkRHVtcEJsb2NrZWQ6IDAsXG4gICAgICAgICAgICB0aHJlYWREdW1wQWxsOiAwXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy50aHJlYWREYXRhLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlLnRocmVhZFN0YXRlID09PSAnUlVOTkFCTEUnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aHJlYWRTdGF0cy50aHJlYWREdW1wUnVubmFibGUgKz0gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUudGhyZWFkU3RhdGUgPT09ICdXQUlUSU5HJykge1xuICAgICAgICAgICAgICAgIHRoaXMudGhyZWFkU3RhdHMudGhyZWFkRHVtcFdhaXRpbmcgKz0gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUudGhyZWFkU3RhdGUgPT09ICdUSU1FRF9XQUlUSU5HJykge1xuICAgICAgICAgICAgICAgIHRoaXMudGhyZWFkU3RhdHMudGhyZWFkRHVtcFRpbWVkV2FpdGluZyArPSAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZS50aHJlYWRTdGF0ZSA9PT0gJ0JMT0NLRUQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aHJlYWRTdGF0cy50aHJlYWREdW1wQmxvY2tlZCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnRocmVhZFN0YXRzLnRocmVhZER1bXBBbGwgPVxuICAgICAgICAgICAgdGhpcy50aHJlYWRTdGF0cy50aHJlYWREdW1wUnVubmFibGUgK1xuICAgICAgICAgICAgdGhpcy50aHJlYWRTdGF0cy50aHJlYWREdW1wV2FpdGluZyArXG4gICAgICAgICAgICB0aGlzLnRocmVhZFN0YXRzLnRocmVhZER1bXBUaW1lZFdhaXRpbmcgK1xuICAgICAgICAgICAgdGhpcy50aHJlYWRTdGF0cy50aHJlYWREdW1wQmxvY2tlZDtcbiAgICB9XG5cbiAgICBvcGVuKCkge1xuICAgICAgICBjb25zdCBtb2RhbFJlZiA9IHRoaXMubW9kYWxTZXJ2aWNlLm9wZW4oSmhpVGhyZWFkTW9kYWxDb21wb25lbnQpO1xuICAgICAgICBtb2RhbFJlZi5jb21wb25lbnRJbnN0YW5jZS50aHJlYWREdW1wID0gdGhpcy50aHJlYWREYXRhO1xuICAgIH1cbn1cbiJdfQ==